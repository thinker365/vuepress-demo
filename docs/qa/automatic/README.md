[[toc]]

## 测试框架
### 基础模块
1. 底层核心驱动库
	- selenium
	- webdriver
	- appium
	- requests
	- playwright
	- cypress
	- unittest
	- pytest
	- ...
2. 可重用的组件
	- 登录模块
	- 时间模块
	- requests封装
	- webdriver封装
	- ...
3. 对象库
	- Page Object模式维护的对象库
	- 各接口对象库
4. 配置文件
	- 环境配置（运行环境、数据库环境）
	- 日志配置
	- 邮箱配置
	- ...
### 管理模块
1. 数据管理（指测试用例使用到的数据）
	- 事先创建（事先准备好测试数据，需要维护）
	- 实时创建（运行时调用生成数据，调用耗时）
2. 文件管理
	- 一条测试用例对应三个文件：xxPage文件、testxxPage文件、xxPageYaml文件
### 运行模块
1. 测试用例调度
	- 动态挑选用例
	- 顺序执行、并行执行、远程执行
2. 错误恢复机制
	- 代码运行异常
	- 环境依赖异常
3. 持续集成支持
### 统计模块
1. 测试报告
	- 测试用例总数、成功失败百分比、总执行时间
	- 单条用例的ID、运行结果、运行时间、用例所属模块、失败截图、错误日志等
2. 日志模块
	- 完善的日志记录
## 自动化测试设计原则
### 层级清晰、上手成本低
1. 代码规范（参考PEP8）
2. 模块划分清晰（复用）
### 通用性强、可维护、可扩展
1. 适应不同操作系统
2. 解决同一类问题
3. 可维护、可扩展
### 对错误处理能力强
1. 错误处理
	- 停止运行
	- 错误恢复：标记为失败，清理失败数据，环境恢复，执行后续用例
		- 事先恢复
		- 事后恢复
2. 系统日志清晰
	- 除了记录日志级别，还应记录如下内容
	- 记录测试用例的开始和结束时间；
	- 记录测试人员的关键操作（如写文件、连接 DB、更改 DB 等）
	- 关键方法的异常信息（如 run 模块出错部分的上下文信息等）
### 运行高效
1. 支持环境切换
2. 支持数据驱动
3. 支持顺序、并发、远程运行
4. 报告完备详尽
5. 解决当前没有解决的问题
### 版本控制和持续集成
1. 版本控制，回溯复盘
2. 持续集成
	- 测试框架应能方便集成到公司持续集成系统